\hypertarget{profiler_8c}{\section{src/runtime/profiler.c File Reference}
\label{profiler_8c}\index{src/runtime/profiler.\-c@{src/runtime/profiler.\-c}}
}


For profiling the path of M\-S\-U messages through De\-D\-O\-S.  


{\ttfamily \#include \char`\"{}profiler.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stats.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}logging.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rt\-\_\-stats.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{profiler_8c_a3eb0302017bccce31af54b76dfab1c2d}{N\-\_\-\-P\-R\-O\-F\-\_\-\-S\-T\-A\-T\-\_\-\-I\-D\-S}~sizeof(\hyperlink{profiler_8c_a27f64afc8d5a298b0642adb77f9c9269}{profiler\-\_\-stat\-\_\-ids}) / sizeof($\ast$\hyperlink{profiler_8c_a27f64afc8d5a298b0642adb77f9c9269}{profiler\-\_\-stat\-\_\-ids})
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{profiler_8c_a3337b2cc27606b07f298d17a8047b77b}{set\-\_\-profiling} (struct \hyperlink{structmsu__msg__hdr}{msu\-\_\-msg\-\_\-hdr} $\ast$hdr)
\begin{DoxyCompactList}\small\item\em Sets the profiling flag on the header based on the \hyperlink{profiler_8c_af6dedd7a9c18062c6b1a19915b5202fb}{tag\-\_\-probability}. \end{DoxyCompactList}\item 
void \hyperlink{profiler_8c_a6ce8344c98b5a4b8ea553b63c4f8ce12}{init\-\_\-profiler} (float tag\-\_\-prob)
\begin{DoxyCompactList}\small\item\em Initializes the profiler to tag headers with tag\-\_\-prob probability. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static float \hyperlink{profiler_8c_af6dedd7a9c18062c6b1a19915b5202fb}{tag\-\_\-probability} = -\/1
\begin{DoxyCompactList}\small\item\em The probability that an M\-S\-U message will get marked for profiling. \end{DoxyCompactList}\item 
enum \hyperlink{stat__ids_8h_ac210bd14ba53357098c0b3ebdd69784e}{stat\-\_\-id} \hyperlink{profiler_8c_a27f64afc8d5a298b0642adb77f9c9269}{profiler\-\_\-stat\-\_\-ids} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em The stat I\-Ds relevant to profiling. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
For profiling the path of M\-S\-U messages through De\-D\-O\-S. 

Definition in file \hyperlink{profiler_8c_source}{profiler.\-c}.



\subsection{Macro Definition Documentation}
\hypertarget{profiler_8c_a3eb0302017bccce31af54b76dfab1c2d}{\index{profiler.\-c@{profiler.\-c}!N\-\_\-\-P\-R\-O\-F\-\_\-\-S\-T\-A\-T\-\_\-\-I\-D\-S@{N\-\_\-\-P\-R\-O\-F\-\_\-\-S\-T\-A\-T\-\_\-\-I\-D\-S}}
\index{N\-\_\-\-P\-R\-O\-F\-\_\-\-S\-T\-A\-T\-\_\-\-I\-D\-S@{N\-\_\-\-P\-R\-O\-F\-\_\-\-S\-T\-A\-T\-\_\-\-I\-D\-S}!profiler.c@{profiler.\-c}}
\subsubsection[{N\-\_\-\-P\-R\-O\-F\-\_\-\-S\-T\-A\-T\-\_\-\-I\-D\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\-\_\-\-P\-R\-O\-F\-\_\-\-S\-T\-A\-T\-\_\-\-I\-D\-S~sizeof({\bf profiler\-\_\-stat\-\_\-ids}) / sizeof($\ast${\bf profiler\-\_\-stat\-\_\-ids})}}\label{profiler_8c_a3eb0302017bccce31af54b76dfab1c2d}


Definition at line 23 of file profiler.\-c.



\subsection{Function Documentation}
\hypertarget{profiler_8c_a6ce8344c98b5a4b8ea553b63c4f8ce12}{\index{profiler.\-c@{profiler.\-c}!init\-\_\-profiler@{init\-\_\-profiler}}
\index{init\-\_\-profiler@{init\-\_\-profiler}!profiler.c@{profiler.\-c}}
\subsubsection[{init\-\_\-profiler}]{\setlength{\rightskip}{0pt plus 5cm}void init\-\_\-profiler (
\begin{DoxyParamCaption}
\item[{float}]{tag\-\_\-prob}
\end{DoxyParamCaption}
)}}\label{profiler_8c_a6ce8344c98b5a4b8ea553b63c4f8ce12}


Initializes the profiler to tag headers with tag\-\_\-prob probability. 

Sets the probability of profiling an M\-S\-U message.

Definition at line 39 of file profiler.\-c.

\hypertarget{profiler_8c_a3337b2cc27606b07f298d17a8047b77b}{\index{profiler.\-c@{profiler.\-c}!set\-\_\-profiling@{set\-\_\-profiling}}
\index{set\-\_\-profiling@{set\-\_\-profiling}!profiler.c@{profiler.\-c}}
\subsubsection[{set\-\_\-profiling}]{\setlength{\rightskip}{0pt plus 5cm}void set\-\_\-profiling (
\begin{DoxyParamCaption}
\item[{struct {\bf msu\-\_\-msg\-\_\-hdr} $\ast$}]{hdr}
\end{DoxyParamCaption}
)}}\label{profiler_8c_a3337b2cc27606b07f298d17a8047b77b}


Sets the profiling flag on the header based on the \hyperlink{profiler_8c_af6dedd7a9c18062c6b1a19915b5202fb}{tag\-\_\-probability}. 

Sets the profiling flag in the header based on the tag\-\_\-probability provided to \hyperlink{profiler_8h_ad922034c356fe3b28a8f23a18a2ef2df}{init\-\_\-profiler}. 

Definition at line 26 of file profiler.\-c.



\subsection{Variable Documentation}
\hypertarget{profiler_8c_a27f64afc8d5a298b0642adb77f9c9269}{\index{profiler.\-c@{profiler.\-c}!profiler\-\_\-stat\-\_\-ids@{profiler\-\_\-stat\-\_\-ids}}
\index{profiler\-\_\-stat\-\_\-ids@{profiler\-\_\-stat\-\_\-ids}!profiler.c@{profiler.\-c}}
\subsubsection[{profiler\-\_\-stat\-\_\-ids}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf stat\-\_\-id} profiler\-\_\-stat\-\_\-ids\mbox{[}$\,$\mbox{]}}}\label{profiler_8c_a27f64afc8d5a298b0642adb77f9c9269}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \{
    \hyperlink{stat__ids_8h_ac210bd14ba53357098c0b3ebdd69784ea7276f1f9df81e3388253913c43606855}{PROF\_ENQUEUE},
    \hyperlink{stat__ids_8h_ac210bd14ba53357098c0b3ebdd69784ead0c03511e4d235c89ed139f270650afc}{PROF\_DEQUEUE},
    \hyperlink{stat__ids_8h_ac210bd14ba53357098c0b3ebdd69784ea01040e97f789845c0f9049edf3fd39bb}{PROF\_REMOTE\_SEND},
    \hyperlink{stat__ids_8h_ac210bd14ba53357098c0b3ebdd69784ea31579b97a2bbbafb12b5caf7fd927872}{PROF\_REMOTE\_RECV},
    \hyperlink{stat__ids_8h_ac210bd14ba53357098c0b3ebdd69784ea5dcc0a5e263bfb8669a5bb171d9c5664}{PROF\_DEDOS\_ENTRY},
    \hyperlink{stat__ids_8h_ac210bd14ba53357098c0b3ebdd69784ead1082f46239cd638ade4553c5d277313}{PROF\_DEDOS\_EXIT}
\}
\end{DoxyCode}


The stat I\-Ds relevant to profiling. 



Definition at line 15 of file profiler.\-c.

\hypertarget{profiler_8c_af6dedd7a9c18062c6b1a19915b5202fb}{\index{profiler.\-c@{profiler.\-c}!tag\-\_\-probability@{tag\-\_\-probability}}
\index{tag\-\_\-probability@{tag\-\_\-probability}!profiler.c@{profiler.\-c}}
\subsubsection[{tag\-\_\-probability}]{\setlength{\rightskip}{0pt plus 5cm}float tag\-\_\-probability = -\/1\hspace{0.3cm}{\ttfamily [static]}}}\label{profiler_8c_af6dedd7a9c18062c6b1a19915b5202fb}


The probability that an M\-S\-U message will get marked for profiling. 



Definition at line 12 of file profiler.\-c.

